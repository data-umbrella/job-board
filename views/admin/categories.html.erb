<section class="mt-8 w-5/6 mx-auto">
  <div>
    <p class="text-red-500 font-semibold">
      <a href="/admin/<%= @account.slug %>">
        &larr; Back to dashboard
      </a>
    </p>
  </div>
</section>

<div class="rounded shadow my-4 bg-white w-5/6 p-10 mx-auto">
  <a href="categories/new" class="float-right">
    <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" type="button">
      Add a new category
    </button>
  </a>
  <div class="mb-2 w-4/5">
    <p class="font-bold text-2xl mb-2">
      All Categories
    </p>
    <div class="markdown-text">
      <p>
         You can add new, edit and delete categories. <a href="https://www.loom.com/share/56a72f9804ba4edb9b614e67e0167154" target="_blank">We've created a video tutorial</a> that walks through all the different actions you can take.
      </p>
    </div>
  </div>

  <% if @categories.empty? %>
  <div class="my-8">
    <p>You haven't created any categories yet. Go create one!</p>
  </div>
  <% else %>
  <div class="my-8">
    <table class="table-auto">
      <thead>
        <tr>
          <th class="px-4 py-2">Name</th>
          <th class="px-4 py-2" span="3"></th>
        </tr>
      </thead>
      <tbody>
        <% @categories.each do |category| %>
          <tr>
            <td class="border px-4 py-2"><%= category.name %></td>
            <td class="border px-4 py-2 underline">
              <a href="/board/<%= @account.slug %>/categories/<%= category.slug %>" target="_blank">View</a>
            </td>
            <td class="border px-4 py-2 underline">
              <a href="categories/<%= category.slug %>/edit">
                Edit
              </a>
            </td>
            <td class="border px-4 py-2 underline">
              <form method="POST" action="categories/<%= category.slug %>/delete" onsubmit="return confirm('Are you sure you want to delete this category?');">
                <div style="margin:0;padding:0">
                  <input name="_method" value="delete" type="hidden" />
                  <button class="text-red-500 font-semibold underline" type="submit">Delete</button>
                </div>
              </form>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
  <% end %>

</div>
