<% content_for :head do %>
  <link rel="stylesheet" href="/simplemde.min.css">
  <script src="/simplemde.min.js"></script>
<% end %>

<!-- Hero section -->
<section class="mt-12">
  <div class="text-center w-2/3 mx-auto">
    <div class="mb-2">
      <p class="text-3xl font-bold text-black">
        <% if @settings.job_price.to_i > 0 %>
          Post a job for $<%= @settings.job_price %>
        <% else %>
          Post a job for free
        <% end %>
      </p>
    </div>
    <div>
      <p class="text-gray-600">
        <%= @settings.posting_offer %>
      </p>
    </div>
  </div>
</section>

<!-- Job Listings -->
<section class="my-12 mx-auto text-xl lg:text-base">
  <form method="POST" action="create" enctype="multipart/form-data">
    <%= erb :'shared/job_form', locals: { job: @job } %>
    <div class="flex items-center justify-between">
      <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" id="checkout-button" type="submit">
        Submit your job
      </button>
    </div>
  </form>
</section>

<script>
  const accentColor = "<%= @settings.accent_color %>"
  console.log(accentColor)
</script>

<!-- Update scripts -->
<script src="/userJobForm.js" charset="utf-8"></script>

<!-- Save form data in local storage -->
<!-- <script>
  const savedInputs = Array.from(document.querySelectorAll('input'));
  savedInputs.forEach(input => persistInput(input))

  function persistInput(input) {
    var key = "input-" + input.id;
    var storedValue = localStorage.getItem(key);

    if (storedValue) {
      input.value = storedValue;
    }

    input.addEventListener('input', function () {
      localStorage.setItem(key, input.value);
    });
  }
</script> -->
